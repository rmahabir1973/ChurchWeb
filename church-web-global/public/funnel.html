<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create Your Church Website - Church Web Global</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body class="funnel-page">
    <!-- Progress Bar - 5 Steps -->
    <div class="progress-container">
        <div class="container">
            <div class="progress-bar">
                <div class="progress-step active" data-step="1">
                    <div class="progress-circle">1</div>
                    <span>Choose Template</span>
                </div>
                <div class="progress-line"></div>
                <div class="progress-step" data-step="2">
                    <div class="progress-circle">2</div>
                    <span>Church Info</span>
                </div>
                <div class="progress-line"></div>
                <div class="progress-step" data-step="3">
                    <div class="progress-circle">3</div>
                    <span>Select Pages</span>
                </div>
                <div class="progress-line"></div>
                <div class="progress-step" data-step="4">
                    <div class="progress-circle">4</div>
                    <span>Preview</span>
                </div>
                <div class="progress-line"></div>
                <div class="progress-step" data-step="5">
                    <div class="progress-circle">5</div>
                    <span>Sign Up</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Funnel Content -->
    <div class="funnel-container">
        <div class="container">
            <!-- Step 1: Choose Template -->
            <div class="funnel-step active" id="step1">
                <div class="step-header">
                    <h2>Choose Your Church Website Template</h2>
                    <p>Select from our custom church templates designed specifically for ministries</p>
                </div>

                <div id="templates-loading" class="loading">
                    <div class="spinner"></div>
                    <p>Loading templates...</p>
                </div>

                <div id="templates-error" class="error-message" style="display: none;">
                    <p>Error loading templates. Please refresh the page.</p>
                </div>

                <div id="templates-grid" class="templates-grid"></div>

                <div class="step-actions">
                    <a href="/" class="btn btn-secondary">Back to Home</a>
                    <button id="step1-next" class="btn btn-primary" disabled>Continue</button>
                </div>
            </div>

            <!-- Step 2: Church Information -->
            <div class="funnel-step" id="step2">
                <div class="step-header">
                    <h2>Tell Us About Your Church</h2>
                    <p>This helps us customize your website with the right pages and content</p>
                </div>

                <div class="form-container">
                    <form id="church-info-form">
                        <div class="form-group">
                            <label for="church-name">Church Name *</label>
                            <input type="text" id="church-name" required placeholder="e.g., Grace Community Church">
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="church-email">Email Address *</label>
                                <input type="email" id="church-email" required placeholder="info@yourchurch.com">
                            </div>
                            <div class="form-group">
                                <label for="church-phone">Phone Number</label>
                                <input type="tel" id="church-phone" placeholder="(555) 123-4567">
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="church-address">Address</label>
                            <input type="text" id="church-address" placeholder="123 Main St, City, State ZIP">
                        </div>

                        <div class="form-group">
                            <label for="church-description">Brief Description</label>
                            <textarea id="church-description" rows="3" placeholder="Tell visitors about your church..."></textarea>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="service-time">Main Service Time</label>
                                <input type="text" id="service-time" placeholder="e.g., Sunday 10:00 AM">
                            </div>
                            <div class="form-group">
                                <label for="pastor-name">Pastor/Leader Name</label>
                                <input type="text" id="pastor-name" placeholder="e.g., Pastor John Smith">
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="denomination">Denomination (Optional)</label>
                            <select id="denomination">
                                <option value="">Select denomination...</option>
                                <option value="baptist">Baptist</option>
                                <option value="catholic">Catholic</option>
                                <option value="methodist">Methodist</option>
                                <option value="pentecostal">Pentecostal</option>
                                <option value="presbyterian">Presbyterian</option>
                                <option value="lutheran">Lutheran</option>
                                <option value="nondenominational">Non-denominational</option>
                                <option value="other">Other</option>
                            </select>
                        </div>
                    </form>
                </div>

                <div class="step-actions">
                    <button id="step2-back" class="btn btn-secondary">Back</button>
                    <button id="step2-next" class="btn btn-primary">Get Page Suggestions</button>
                </div>
            </div>

            <!-- Step 3: Select Pages (AI Suggestions) -->
            <div class="funnel-step" id="step3">
                <div class="step-header">
                    <h2>Select Your Website Pages</h2>
                    <p>We recommend these pages based on your church information</p>
                </div>

                <div id="ai-loading" class="loading" style="display: none;">
                    <div class="spinner"></div>
                    <p>Getting smart page suggestions...</p>
                </div>

                <div id="pages-container">
                    <h4 class="section-label">Recommended Pages</h4>
                    <div id="suggested-pages" class="pages-grid"></div>
                    
                    <h4 class="section-label" style="margin-top: 24px;">Additional Pages</h4>
                    <div id="optional-pages" class="pages-grid"></div>
                </div>

                <div class="step-actions">
                    <button id="step3-back" class="btn btn-secondary">Back</button>
                    <button id="step3-next" class="btn btn-primary">Create Preview</button>
                </div>
            </div>

            <!-- Step 4: Preview Site -->
            <div class="funnel-step" id="step4">
                <div class="step-header">
                    <h2>Preview Your Website</h2>
                    <p>See how your new church website looks before signing up</p>
                </div>

                <div id="preview-loading" class="loading">
                    <div class="spinner"></div>
                    <p>AI is building your personalized church website...</p>
                    <p style="font-size: 0.9rem; color: #666; margin-top: 0.5rem;">This may take 30-60 seconds</p>
                </div>

                <div id="preview-section" style="display: none;">
                    <div class="preview-box">
                        <div class="preview-header">
                            <h3 id="preview-site-name">Your Church Website</h3>
                            <a id="preview-link" href="#" target="_blank" class="btn btn-secondary">Open Full Preview</a>
                        </div>
                        <div class="preview-frame-container">
                            <iframe id="preview-iframe" src="" frameborder="0"></iframe>
                        </div>
                        <p class="preview-note">This is an unpublished preview. Sign up to launch your site!</p>
                    </div>
                </div>

                <div class="step-actions">
                    <button id="step4-back" class="btn btn-secondary">Back</button>
                    <button id="step4-next" class="btn btn-primary">Continue to Sign Up</button>
                </div>
            </div>

            <!-- Step 5: Sign Up & Plan Selection -->
            <div class="funnel-step" id="step5">
                <div class="step-header">
                    <h2>Choose Your Plan</h2>
                    <p>Select a plan and create your account to launch your website</p>
                </div>

                <div class="pricing-grid-small">
                    <label class="pricing-radio">
                        <input type="radio" name="plan" value="starter">
                        <div class="plan-card">
                            <h4>Starter</h4>
                            <p class="plan-price">$19<span>/month</span></p>
                            <ul>
                                <li>Professional Website</li>
                                <li>5 GB Storage</li>
                                <li>Free SSL Certificate</li>
                                <li>Mobile Responsive</li>
                            </ul>
                        </div>
                    </label>

                    <label class="pricing-radio">
                        <input type="radio" name="plan" value="professional" checked>
                        <div class="plan-card featured-plan">
                            <span class="plan-badge">Most Popular</span>
                            <h4>Professional</h4>
                            <p class="plan-price">$39<span>/month</span></p>
                            <ul>
                                <li>Everything in Starter</li>
                                <li>10 Email Accounts</li>
                                <li>20 GB Storage</li>
                                <li>Priority Support</li>
                            </ul>
                        </div>
                    </label>

                    <label class="pricing-radio">
                        <input type="radio" name="plan" value="enterprise">
                        <div class="plan-card">
                            <h4>Enterprise</h4>
                            <p class="plan-price">$79<span>/month</span></p>
                            <ul>
                                <li>Everything in Pro</li>
                                <li>Unlimited Email</li>
                                <li>Unlimited Storage</li>
                                <li>Custom Domain</li>
                            </ul>
                        </div>
                    </label>
                </div>

                <div class="signup-form">
                    <h4>Create Your Account</h4>
                    <form id="signup-form">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="signup-email">Email Address *</label>
                                <input type="email" id="signup-email" required autocomplete="email">
                            </div>
                            <div class="form-group">
                                <label for="signup-password">Password *</label>
                                <input type="password" id="signup-password" required minlength="8" autocomplete="new-password">
                            </div>
                        </div>
                        <div class="form-group checkbox-group">
                            <label>
                                <input type="checkbox" id="terms-checkbox" required>
                                I agree to the <a href="#" target="_blank">Terms of Service</a> and <a href="#" target="_blank">Privacy Policy</a>
                            </label>
                        </div>
                    </form>
                </div>

                <div class="payment-note">
                    <p>After signing up, you'll be redirected to complete payment. Your site will be published once payment is confirmed.</p>
                </div>

                <div class="step-actions">
                    <button id="step5-back" class="btn btn-secondary">Back</button>
                    <button id="step5-finish" class="btn btn-primary btn-large">Create Account & Pay</button>
                </div>
            </div>

            <!-- Success Message -->
            <div class="funnel-step" id="step-success" style="display: none;">
                <div style="text-align: center; padding: 60px 20px;">
                    <div style="font-size: 80px; margin-bottom: 24px;">ðŸŽ‰</div>
                    <h2>Account Created Successfully!</h2>
                    <p style="font-size: 18px; color: #666; margin: 16px 0 32px;">Your church website has been saved. Complete payment in WHMCS to publish it live.</p>
                    <div id="success-details" style="background: #f8f9fa; padding: 24px; border-radius: 12px; margin-bottom: 32px; text-align: left; max-width: 500px; margin-left: auto; margin-right: auto;">
                        <p><strong>Site:</strong> <span id="success-site-name"></span></p>
                        <p><strong>Plan:</strong> <span id="success-plan"></span></p>
                        <p><strong>Payment Status:</strong> <span id="payment-status" class="payment-status pending">Checking...</span></p>
                        <a href="#" id="live-site-url" style="display: none; word-break: break-all;"></a>
                    </div>
                    <div style="display: flex; gap: 16px; justify-content: center; flex-wrap: wrap;">
                        <button id="publish-site-btn" class="btn btn-primary" disabled style="padding: 14px 32px;">Waiting for Payment...</button>
                        <a href="/" class="btn btn-secondary" style="padding: 14px 32px;">Return to Home</a>
                    </div>
                    <p style="margin-top: 24px; color: #888; font-size: 14px;">Check your email for payment instructions. Once paid, click "Publish Your Site" to go live.</p>
                </div>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
